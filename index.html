<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vigenère Cipher</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
</head>
<body>
    <h2>Vigenère Cipher</h2>
    <form>
        <label for="plaintext">Plaintext:</label><br>
        <textarea id="plaintext" rows="4" cols="50"></textarea><br>
        <label for="keyword">Keyword:</label><br>
        <input type="text" id="keyword" name="keyword"><br>
        <button type="button" onclick="encrypt()">Encrypt</button>
        <button type="button" onclick="decrypt()">Decrypt</button><br>
        <label for="ciphertext">Ciphertext:</label><br>
        <textarea id="ciphertext" rows="4" cols="50" readonly></textarea>
    </form>

    <script>
        function isLetter(str) {
            return str.length === 1 && str.match(/[a-zA-Z]/i);
        }

        function isUpperCase(character) {
            return character === character.toUpperCase();
        }

        function encrypt() {
            let plaintext = document.getElementById('plaintext').value;
            let keyword = document.getElementById('keyword').value;
            let result = '';

            for (let i = 0, j = 0; i < plaintext.length; i++) {
                const c = plaintext.charAt(i);
                if (isLetter(c)) {
                    if (isUpperCase(c)) {
                        result += String.fromCharCode((c.charCodeAt(0) + keyword.toUpperCase().charCodeAt(j % keyword.length) - 2 * 65) % 26 + 65);
                    } else {
                        result += String.fromCharCode((c.charCodeAt(0) + keyword.toLowerCase().charCodeAt(j % keyword.length) - 2 * 97) % 26 + 97);
                    }
                } else {
                    result += c;
                }
                j++;
            }
            document.getElementById('ciphertext').value = result;
        }

        function decrypt() {
            let ciphertext = document.getElementById('plaintext').value;
            let keyword = document.getElementById('keyword').value;
            let result = '';

            for (let i = 0, j = 0; i < ciphertext.length; i++) {
                const c = ciphertext.charAt(i);
                if (isLetter(c)) {
                    if (isUpperCase(c)) {
                        result += String.fromCharCode(90 - (25 - (c.charCodeAt(0) - keyword.toUpperCase().charCodeAt(j % keyword.length))) % 26);
                    } else {
                        result += String.fromCharCode(122 - (25 - (c.charCodeAt(0) - keyword.toLowerCase().charCodeAt(j % keyword.length))) % 26);
                    }
                } else {
                    result += c;
                }
                j++;
            }
            document.getElementById('ciphertext').value = result;
        }
    </script>
</body>
</html>
